/*
 Copyright 2011 David Sheets, Ashima Arts. All rights reserved.
 Open source under an MIT-style license.
 See https://github.com/ashima/webgl-diagnostic/ for more information.
*/
var j=null;typeof window.WebGLDiagnostic=="undefined"&&(WebGLDiagnostic=window.WebGLDiagnostic={});WebGLDiagnostic.context_ids=["webgl","experimental-webgl","moz-webgl","webkit-3d"];WebGLDiagnostic.exts=["OES_texture_float","OES_texture_half_float","WEBKIT_lose_context","OES_standard_derivatives","OES_vertex_array_object"];
WebGLDiagnostic.drivers={nvidia:{label:"NVIDIA",v:"http://www.nvidia.com/Download/index.aspx"},ati:{label:"ATI",v:"http://support.amd.com/us/gpudownload/Pages/index.aspx"},osx:{label:"Apple",v:"http://www.apple.com/macosx/"}};
WebGLDiagnostic.decisions={Chrome:{trouble:"http://www.google.com/support/chrome/bin/answer.py?answer=1220892",download:"http://www.google.com/chrome/",upgrade:"http://www.google.com/support/chrome/bin/answer.py?answer=95414"},Safari:{trouble:"http://fairerplatform.com/2011/05/new-in-os-x-lion-safari-5-1-brings-webgl-do-not-track-and-more/",platforms:{"iPhone/iPod":{trouble:"http://www.apple.com/support/iphone/",upgrade:"http://www.apple.com/ios/"},iPad:{trouble:"http://www.apple.com/support/ipad/",
upgrade:"http://www.apple.com/ios/"},Mac:{trouble:"http://fairerplatform.com/2011/05/new-in-os-x-lion-safari-5-1-brings-webgl-do-not-track-and-more/",download:"http://www.apple.com/safari/",upgrade:"http://www.apple.com/safari/"}}},Opera:{platforms:{Windows:{experimental:{label:"Opera Developer Preview",v:{trouble:"http://my.opera.com/core/blog/2011/02/28/webgl-and-hardware-acceleration-2",download:"http://my.opera.com/core/blog/2011/02/28/webgl-and-hardware-acceleration-2"}}}}},Explorer:{plugins:[{label:"Google Chrome Frame",
v:{download:"http://code.google.com/chrome/chromeframe/"}}]},Firefox:{trouble:"https://support.mozilla.com/en-US/kb/how-do-i-upgrade-my-graphics-drivers",download:"http://www.mozilla.com/en-US/firefox/new/",upgrade:"http://www.mozilla.com/en-US/firefox/new/"}};
WebGLDiagnostic.browsers={Chrome:{string:navigator.userAgent,subString:["Chrome"],name:"Google Chrome"},OmniWeb:{string:navigator.userAgent,subString:["OmniWeb"],versionSearch:"OmniWeb/",name:"OmniWeb"},Safari:{string:navigator.vendor,subString:["Apple"],versionSearch:"Version",name:"Apple Safari"},Android:{string:navigator.userAgent,subString:["Android"],name:"Google Android"},Opera:{prop:window.opera,name:"Opera"},iCab:{string:navigator.vendor,subString:["iCab"],name:"iCab"},Konqueror:{string:navigator.vendor,
subString:["KDE"],name:"Konqueror"},Camino:{string:navigator.vendor,subString:["Camino"],name:"Camino"},Netscape:{string:navigator.userAgent,subString:["Netscape","Navigator"],versionSearch:"Netscape",name:"Netscape Navigator"},Explorer:{string:navigator.userAgent,subString:["MSIE"],versionSearch:"MSIE",name:"Microsoft Internet Explorer"},Firefox:{p:1,string:navigator.userAgent,subString:["Firefox"],name:"Mozilla Firefox"},Mozilla:{p:2,string:navigator.userAgent,subString:["Gecko"],versionSearch:"rv",
name:"Mozilla Suite"},OldNetscape:{p:3,string:navigator.userAgent,subString:["Mozilla"],versionSearch:"Mozilla",name:"Netscape Navigator"}};
WebGLDiagnostic.platforms={Windows:{string:navigator.platform,subString:["Win"],browsers:["Chrome","Firefox"]},Mac:{string:navigator.platform,subString:["Mac"],browsers:["Chrome","Firefox","Safari"]},"iPhone/iPod":{string:navigator.userAgent,subString:["iPhone"],browsers:["Firefox"]},iPad:{string:navigator.platform,subString:["iPad"],browsers:["Firefox"]},Android:{string:navigator.userAgent,subString:["Android"],browsers:["Firefox"]},Linux:{string:navigator.platform,subString:["Linux"],browsers:["Firefox",
"Chrome"]},unknown:{string:navigator.platform,subString:[],browsers:["Firefox","Chrome","Safari"]}};/*
 Copyright 2011 David Sheets, Ashima Arts. All rights reserved.
 Open source under an MIT-style license.
 See https://github.com/ashima/webgl-diagnostic/ for more information.
*/
typeof window.WebGLDiagnostic=="undefined"&&(WebGLDiagnostic=window.WebGLDiagnostic={});WebGLDiagnostic.caps={renderbuffer_depth:function(a){var b,c=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,c);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,1,1);b=a.getRenderbufferParameter(a.RENDERBUFFER,a.RENDERBUFFER_DEPTH_SIZE);a.deleteRenderbuffer(c);return b}};
WebGLDiagnostic._browserWithIdVersion=function(a,b){b.id=a;var c,e,f=b.versionSearch||a,g=[navigator.userAgent,navigator.appVersion];for(c=0;c<g.length;c++)if(e=g[c].indexOf(f),e>=0)return e=e+f.length+1,b.version=parseFloat(g[c].substring(e)),b;b.version=0;return b};WebGLDiagnostic._platformWithId=function(a,b){b.id=a;return b};WebGLDiagnostic._tableSize=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c};
WebGLDiagnostic.detectBrowser=function(){function a(c,f){var g,d,h={};for(g in f)if(d=f[g],typeof d.p=="undefined"&&(d.p=0),c>=d.p)if(d.string)for(var i=0;i<d.subString.length;i++){if(d.string.indexOf(d.subString[i])!=-1)return b._browserWithIdVersion(g,d)}else{if(d.prop)return b._browserWithIdVersion(g,d)}else h[g]=d;return b._tableSize(h)>0?a(c+1,h):j}var b=this,c;return(c=a(0,this.browsers))?c:j};
WebGLDiagnostic.detectPlatform=function(){var a=this,b;return(b=function(b){var e,f;for(e in b)if(f=b[e],f.string)for(var g=0;g<f.subString.length;g++)if(f.string.indexOf(f.subString[g])!=-1)return a._platformWithId(e,f);return j}(this.platforms))?b:this._platformWithId("unknown",this.platforms.unknown)};
WebGLDiagnostic.detectDriver=function(a){var a=this.webGLContext(a),b;if(!a)return j;a=a.getParameter(a.RENDERER);if(navigator.userAgent.match(/Mac OS X/))return this.drivers.osx;for(b in this.drivers)if(RegExp(b,"i").test(a))return this.drivers[b];return j};WebGLDiagnostic.isWebGLSupported=function(){return"WebGLRenderingContext"in window};
WebGLDiagnostic.webGLContext=function(a){var b,a=document.getElementById(a),c;for(c=0;c<this.context_ids.length;c++){try{b=a.getContext(this.context_ids[c])}catch(e){return j}if(b!=j){this.context_id=this.context_ids[c];break}}return b};
WebGLDiagnostic.report=function(a){var b="",c,e,f;b+="WebGL Support: ";if(this.isWebGLSupported())if(b+="yes",a=this.webGLContext(a),a!=j){c=[["Version",a.VERSION],["Vendor",a.VENDOR],["Renderer",a.RENDERER],["Shading Language",a.SHADING_LANGUAGE_VERSION],["Max Texture Size",a.MAX_TEXTURE_SIZE],["Subpixel bits",a.SUBPIXEL_BITS],["Red bits",a.RED_BITS],["Green bits",a.GREEN_BITS],["Blue bits",a.BLUE_BITS],["Alpha bits",a.ALPHA_BITS],["Depth bits",a.DEPTH_BITS],["Stencil bits",a.STENCIL_BITS],["Max Vertex Attribs",
a.MAX_VERTEX_ATTRIBS],["Max Vertex Uniforms",a.MAX_VERTEX_UNIFORM_VECTORS],["Max Varyings",a.MAX_VARYING_VECTORS],["Max Combined Textures",a.MAX_COMBINED_TEXTURE_IMAGE_UNITS],["Max Vertex Textures",a.MAX_VERTEX_TEXTURE_IMAGE_UNITS],["Max Textures",a.MAX_TEXTURE_IMAGE_UNITS],["Max Fragment Uniforms",a.MAX_FRAGMENT_UNIFORM_VECTORS],["Max Cube Map Size",a.MAX_CUBE_MAP_TEXTURE_SIZE],["Max Renderbuffer Size",a.MAX_RENDERBUFFER_SIZE]];b+=" ("+this.context_id+")\n";for(e=0;e<c.length;e++)b+=c[e][0]+": "+
a.getParameter(c[e][1])+"\n";c=a.getParameter(a.MAX_VIEWPORT_DIMS);c!=j&&(c=c[0]+" x "+c[1]);b+="Max Viewport Dims: "+c+"\n";for(f in this.caps)b+=f+": "+this.caps[f](a)+"\n";b+="\n";for(e=0;e<this.exts.length;e++)b+=this.exts[e]+": "+(a.getExtension?a.getExtension(this.exts[e])!=j:!1)+"\n"}else b+=" (but cannot acquire context)\n";else b+="no\n";b+="\n";b+="User Agent: "+navigator.userAgent+"\n";b+="Browser vendor: "+navigator.vendor+"\n";b+="Browser version: "+navigator.appVersion+"\n";b+="Browser language: "+
navigator.language+"\n";b+="Available resolution: "+screen.availWidth+" x "+screen.availHeight+"\n";b+="Screen resolution: "+screen.width+" x "+screen.height+"\n";b+="Color depth: "+screen.colorDepth+"\n";b+="Pixel depth: "+screen.pixelDepth+"\n";return b};
WebGLDiagnostic.diagnose=function(a){function b(b,c){var d=[c];if(d[1]=d[0].experimental)(d[2]=d[1].v.download)&&a.experimental_change(b,d[1])}function c(b,c){var d=[c];if(d[1]=d[0].plugins){for(var e=!1,i=0;i<d[1].length;i++)if(d[2]=d[1][i].v.download)a.plugin(b,d[1][i]),e=!0;if(!e)for(i=0;i<d[1].length;i++){var l=b,k=[d[1][i]];if(k[1]=k[0].v.experimental)(k[2]=k[1].v.download)&&a.experimental_plugin(l,k[1])}return e}else return!1}var e=this;(function(){var f=e.detectBrowser(),g=e.detectPlatform(),
d=e.decisions[f.id];if((!a.debug||a.debug.supported)&&e.isWebGLSupported()){var h=e.webGLContext(a.canvasid);a.debug&&a.debug.trouble||h==j?d.platforms&&d.platforms[g.id]&&d.platforms[g.id].trouble?a.trouble(f,d.platforms[g.id].trouble,e.detectDriver(a.canvasid)):a.trouble(f,d.trouble,e.detectDriver(a.canvasid)):a.ok()}else if(d){a:{h=[d];if(h[1]=h[0].platforms)if(h[2]=h[1][g.id])if(h[3]=h[2].upgrade){a.upgrade(f,h[3]);h=!0;break a}else if(c(f,h[2])){h=!0;break a}else b(f,h[2]);h=!1}!h&&!c(f,d)&&
(d.upgrade?a.upgrade(f,d.upgrade):(b(f,d),a.change(g,f)))}else a.change(g,f)})()};
